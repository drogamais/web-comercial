<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Gestão de Tabloides{% endblock %}</title>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/forms.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tables.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/drag_and_drop.css') }}">
    
    {% block styles %}{% endblock %}
</head>
<body>
    <div id="assunto-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 style="margin-top: 0;">Descrição Completa</h2>
            <p id="assunto-modal-content" style="text-align: left; white-space: pre-wrap;"></p>
            <div class="modal-actions">
                <button id="assunto-modal-btn-close" class="modal-button-confirm">Fechar</button>
            </div>
        </div>
    </div>

    <div class="container">
        <nav class="navbar" style="align-items: center; justify-content: space-between;">
            <div>
                <a href="{{ url_for('tabloide.download_modelo') }}" class="button-filter" style="margin: 0; max-width: 250px; text-decoration: none;">
                    &#x2B07; Baixar Modelo Tabloide
                </a>
            </div>
            <div class="dropdown">
                <button class="dropbtn">Menu</button>
                <div id="myDropdown" class="dropdown-content">
                    <a href="{{ url_for('tabloide_produtos.upload_page') }}" class="{{ 'active' if active_page == 'upload' else '' }}">Upload de Planilha</a>
                    <a href="{{ url_for('tabloide.gestao_tabloides') }}" class="{{ 'active' if active_page == 'tabloides' else '' }}">Gerenciar Tabloides</a>
                    <a href="{{ url_for('index') }}" style="border-top: 1px solid #ddd; background-color: #f0f0f0;">&larr; Voltar ao Menu Principal</a>
                </div>
            </div>
        </nav>

        {% block content %}{% endblock %}
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    
    {% block scripts %}
    <script src="{{ url_for('static', filename='js/drag_and_drop.js') }}"></script>
    {% endblock %}

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (window.App && App.main && App.main.init) {
                App.main.init();
            }
        });
    </script>
</body>
</html>